# –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è CRM —Å–∏—Å—Ç–µ–º—ã

–≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é CRM —Å–∏—Å—Ç–µ–º—ã, —Ä–∞–±–æ—Ç–∞—é—â—É—é –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–æ—Ä—Ç–∞—Ö —Å –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º –ø–æ —Ñ–∞–π–ª—É **`start.bat`** –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
docker-compose up -d
```

## üìç –ü–æ—Ä—Ç—ã

| –°–µ—Ä–≤–∏—Å | –û—Ä–∏–≥–∏–Ω–∞–ª | –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è |
|--------|----------|----------------|
| **Frontend** | http://localhost:3000 | **http://localhost:3001** |
| **Backend API** | http://localhost:5000 | **http://localhost:5001** |
| **PostgreSQL** | localhost:5432 | **localhost:5433** |

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `postgres_data/` –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å **–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π UTF-8** –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.

### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–¥–∏—Ä–æ–≤–∫–∏ PostgreSQL:
- **Encoding:** UTF8
- **Locale:** ru_RU.UTF-8
- **Collate:** ru_RU.UTF-8
- **Ctype:** ru_RU.UTF-8
- **client_encoding:** UTF8

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª **`check_encoding.bat`** –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
docker exec -it crm-postgres-local psql -U crm_user -d crm_db -c "\l crm_db"
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ backend/              # Backend API (Node.js + TypeScript)
‚îú‚îÄ‚îÄ frontend/             # Frontend (React + Vite + Nginx)
‚îú‚îÄ‚îÄ uploads/              # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∞–≤–∞—Ç–∞—Ä—ã, CSV)
‚îú‚îÄ‚îÄ postgres_data/        # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞)
‚îú‚îÄ‚îÄ database_dump_utf8.sql # –î–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ start.bat             # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ stop.bat              # –°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ check_encoding.bat    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –ë–î
```

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º

### –ó–∞–ø—É—Å–∫
- **Windows:** –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ `start.bat`
- **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:** `docker-compose up -d`

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
- **Windows:** –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ `stop.bat`
- **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:** `docker-compose down`

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f postgres
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```bash
docker-compose restart backend
docker-compose restart frontend
```

## üîß –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ `database_dump_utf8.sql` –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

–î–ª—è **—Ä—É—á–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
docker-compose down -v

# –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏
Remove-Item postgres_data -Recurse -Force

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker-compose up -d
```

## üìä –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
```bash
docker exec -it crm-postgres-local psql -U crm_user -d crm_db
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- **Host:** localhost
- **Port:** 5433
- **Database:** crm_db
- **User:** crm_user
- **Password:** crm_password

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- ‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 3000, 5000, 5432
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 3001, 5001, 5433
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø–∞–ø–∫–µ `postgres_data/`
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8 –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
- ‚úÖ –î–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

1. **Frontend:** –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001
2. **API Health:** http://localhost:5001/api/health
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `check_encoding.bat`

–õ–æ–≥–∏–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

