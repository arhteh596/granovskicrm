# üéâ –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è CRM —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
- ‚úÖ Backend (Node.js + TypeScript)
- ‚úÖ Frontend (React + Vite)
- ‚úÖ –í—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (uploads)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 2. –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
- ‚úÖ –î–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —Å UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
- ‚úÖ PostgreSQL –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ª–æ–∫–∞–ª—å—é ru_RU.UTF-8
- ‚úÖ –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ë–∞–∑–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞ (postgres_data/)

### 3. –ò–∑–º–µ–Ω–µ–Ω—ã –≤—Å–µ –ø–æ—Ä—Ç—ã
- Frontend: 3000 ‚Üí **3001**
- Backend: 5000 ‚Üí **5001**
- PostgreSQL: 5432 ‚Üí **5433**

### 4. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ Backend Dockerfile (–ø–æ—Ä—Ç 5001)
- ‚úÖ Frontend .env (API URL –Ω–∞ 5001)
- ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 5001)
- ‚úÖ Docker-compose.yml (–Ω–æ–≤—ã–µ –ø–æ—Ä—Ç—ã –∏ –∏–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)

### 5. –°–æ–∑–¥–∞–Ω—ã —É–¥–æ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ `start.bat` - –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `stop.bat` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `check_encoding.bat` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –ë–î
- ‚úÖ `convert_dump_utf8.ps1` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–∞–º–ø–∞ –≤ UTF-8

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª: **`start.bat`**

–ò–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:
```bash
docker-compose up -d
```

### –î–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–µ–∫—Ç—É:
- **Frontend:** http://localhost:3001
- **Backend API:** http://localhost:5001/api/health
- **Database:** localhost:5433

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:

–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (–ù–ï –¢–†–û–ù–£–¢):
- Frontend: http://localhost:3000 ‚úÖ
- Backend: http://localhost:5000 ‚úÖ
- Database: localhost:5432 ‚úÖ

–õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è (–ù–û–í–ê–Ø):
- Frontend: http://localhost:3001 ‚úÖ
- Backend: http://localhost:5001 ‚úÖ
- Database: localhost:5433 ‚úÖ

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏:

–ó–∞–ø—É—Å—Ç–∏—Ç–µ: **`check_encoding.bat`**

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
docker exec -it crm-postgres-local psql -U crm_user -d crm_db -c "SELECT id, username, full_name FROM users WHERE full_name ~ '[–ê-–Ø–∞-—è]' LIMIT 5;"
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∫–∏—Ä–∏–ª–ª–∏—Ü—É:
```
 id | username | full_name 
----+----------+-----------
  9 | user01   | –®–∏–Ω—à–∏–ª–∞
 21 | user12   | –ß–∞–º—Ä–∏–∫?
 20 | user11   | –ê–º–æ–Ω
 11 | user03   | –ü—É–º–±–∞
 18 | user09   | –¢—Ä–æ—è–Ω–µ—Ü
```

---

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

1. **–ü–æ–ª–Ω–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** - –æ–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
2. **–ë–∞–∑–∞ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞** - –≤ –ø–∞–ø–∫–µ `postgres_data/`
3. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8** - –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã** - –ø–æ–ª–Ω–∞—è –∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –ë–î
5. **–£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - bat-—Ñ–∞–π–ª—ã –¥–ª—è Windows

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f backend
docker-compose logs -f frontend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart backend

# –ü–æ–ª–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
docker-compose down -v

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
docker exec -it crm-postgres-local psql -U crm_user -d crm_db
```

---

## üéØ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

–õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è CRM –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 10 –Ω–æ—è–±—Ä—è 2025 –≥.
